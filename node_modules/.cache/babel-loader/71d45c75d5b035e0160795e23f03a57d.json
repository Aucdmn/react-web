{"ast":null,"code":"var _jsxFileName = \"/Users/dumaohan/projects/jianshu/src/common/header/index.js\";\nimport React, { Component } from 'react';\nimport { HeaderWrapper, Logo, Nav, NavItem, SearchWrapper, NavSearch, Addition, Button, SearchInfo, SearchInfoTitle, SearchInfoSwitch, SearchInfoList, SearchInfoItem } from './style';\nimport { CSSTransition } from 'react-transition-group';\nimport { connect } from 'react-redux';\nimport { actionCreators } from './store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Header extends Component {\n  render() {\n    const {\n      focused,\n      list,\n      page,\n      totalPage,\n      mouseIn,\n      handleInputFocus,\n      handleInputBlur,\n      handleMouseEnter,\n      handleMouseLeave,\n      handlePageChange\n    } = this.props;\n    const newList = list.toJS();\n    const resList = [];\n\n    const getListArea = () => {\n      if (newList.length) {\n        for (let i = (page - 1) * 10; i < page * 10; i++) {\n          resList.push( /*#__PURE__*/_jsxDEV(SearchInfoItem, {\n            children: newList[i]\n          }, newList[i], false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 7\n          }, this));\n        }\n      }\n\n      if (focused || mouseIn) {\n        return /*#__PURE__*/_jsxDEV(SearchInfo, {\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave,\n          children: [/*#__PURE__*/_jsxDEV(SearchInfoTitle, {\n            children: [\"\\u70ED\\u95E8\\u641C\\u7D22\", /*#__PURE__*/_jsxDEV(SearchInfoSwitch, {\n              onClick: handlePageChange.bind(this, page, totalPage, this.spinIcon),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                ref: icon => {\n                  this.spinIcon = icon;\n                },\n                className: \"iconfont\",\n                children: \"\\uE675\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 31,\n                columnNumber: 8\n              }, this), \"\\u6362\\u4E00\\u6362\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(SearchInfoList, {\n            children: resList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 6\n        }, this);\n      } else {\n        return null;\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(HeaderWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Nav, {\n        children: [/*#__PURE__*/_jsxDEV(NavItem, {\n          className: \"left active\",\n          children: \"\\u9996\\u9875\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n          className: \"left\",\n          children: \"\\u4E0B\\u8F7DApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n          className: \"right\",\n          children: \"\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n          className: \"right\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"iconfont\",\n            children: \"\\uE636\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(SearchWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(CSSTransition, {\n            classNames: \"slide\",\n            timeout: 200,\n            in: focused,\n            children: /*#__PURE__*/_jsxDEV(NavSearch, {\n              className: focused ? 'focused' : '',\n              onFocus: handleInputFocus,\n              onBlur: handleInputBlur\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: focused ? 'focused iconfont zoom' : 'iconfont zoom',\n            children: \"\\uE603\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 7\n          }, this), getListArea(focused)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Addition, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"writting\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"iconfont\",\n            children: \"\\uE878\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u5199\\u6587\\u7AE0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"reg\",\n          children: \"\\u6CE8\\u518C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    focused: state.get('header').get('focused'),\n    list: state.get('header').get('list'),\n    page: state.get('header').get('page'),\n    totalPage: state.get('header').get('totalPage'),\n    mouseIn: state.get('header').get('mouseIn')\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleInputFocus() {\n      dispatch(actionCreators.getList());\n      dispatch(actionCreators.inputFocus());\n    },\n\n    handleInputBlur() {\n      dispatch(actionCreators.inputBlur());\n    },\n\n    handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    },\n\n    handleMouseLeave() {\n      dispatch(actionCreators.mouseLeave());\n    },\n\n    handlePageChange(page, totalPage) {\n      if (page < totalPage) {\n        dispatch(actionCreators.pageChange(page + 1));\n      } else {\n        dispatch(actionCreators.pageChange(1));\n      }\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"sources":["/Users/dumaohan/projects/jianshu/src/common/header/index.js"],"names":["React","Component","HeaderWrapper","Logo","Nav","NavItem","SearchWrapper","NavSearch","Addition","Button","SearchInfo","SearchInfoTitle","SearchInfoSwitch","SearchInfoList","SearchInfoItem","CSSTransition","connect","actionCreators","Header","render","focused","list","page","totalPage","mouseIn","handleInputFocus","handleInputBlur","handleMouseEnter","handleMouseLeave","handlePageChange","props","newList","toJS","resList","getListArea","length","i","push","bind","spinIcon","icon","mapStateToProps","state","get","mapDispatchToProps","dispatch","getList","inputFocus","inputBlur","mouseEnter","mouseLeave","pageChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { HeaderWrapper, Logo, Nav, NavItem, SearchWrapper, NavSearch, \n\t\t\t\t Addition, Button, SearchInfo, SearchInfoTitle, SearchInfoSwitch,\n\t\t\t\t SearchInfoList, SearchInfoItem  \n} from './style';\nimport { CSSTransition } from 'react-transition-group';\nimport { connect } from 'react-redux';\nimport { actionCreators } from './store';\n\nclass Header extends Component {\n\trender() {\n\t\tconst { focused, list, page, totalPage, mouseIn, handleInputFocus, handleInputBlur, handleMouseEnter, \n\t\t\t\t\t\thandleMouseLeave, handlePageChange } = this.props;\n\t\tconst newList = list.toJS();\n\t\tconst resList = []\n\t\tconst getListArea = () => {\n\t\t\tif(newList.length) {\n\t\t\t\tfor(let i = (page - 1) * 10; i < page * 10; i++) {\n\t\t\t\t\tresList.push(\n\t\t\t\t\t\t<SearchInfoItem key={newList[i]}>{newList[i]}</SearchInfoItem>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(focused || mouseIn) {\n\t\t\t\treturn (\n\t\t\t\t\t<SearchInfo onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n\t\t\t\t\t\t<SearchInfoTitle>\n\t\t\t\t\t\t\t热门搜索\n\t\t\t\t\t\t\t<SearchInfoSwitch onClick={handlePageChange.bind(this, page, totalPage, this.spinIcon)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span ref={(icon) => {this.spinIcon = icon}} className='iconfont'>&#xe675;</span>\n\t\t\t\t\t\t\t换一换</SearchInfoSwitch>\n\t\t\t\t\t\t</SearchInfoTitle>\n\t\t\t\t\t\t<SearchInfoList>\n\t\t\t\t\t\t\t{resList}\n\t\t\t\t\t\t</SearchInfoList>\n\t\t\t\t\t</SearchInfo>\n\t\t\t\t)\n\t\t\t}else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<HeaderWrapper>\n\t\t\t\t<Logo />\n\t\t\t\t<Nav>\n\t\t\t\t\t<NavItem className='left active'>首页</NavItem>\n\t\t\t\t\t<NavItem className='left'>下载App</NavItem>\n\t\t\t\t\t<NavItem className='right'>登录</NavItem>\n\t\t\t\t\t<NavItem className='right'>\n\t\t\t\t\t\t<span className='iconfont'>&#xe636;</span>\n\t\t\t\t\t</NavItem>\n\t\t\t\t\t<SearchWrapper>\n\t\t\t\t\t\t<CSSTransition\n\t\t\t\t\t\t\tclassNames='slide'\n\t\t\t\t\t\t\ttimeout={200}\n\t\t\t\t\t\t\tin={focused}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<NavSearch\n\t\t\t\t\t\t\t\tclassName={focused ? 'focused' : ''}\n\t\t\t\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t\t\t\t\tonBlur={handleInputBlur}\n\t\t\t\t\t\t\t></NavSearch>\n\t\t\t\t\t\t</CSSTransition>\n\t\t\t\t\t\t<span \n\t\t\t\t\t\t\tclassName={focused ? 'focused iconfont zoom' : 'iconfont zoom'}\n\t\t\t\t\t\t>&#xe603;</span>\n\t\t\t\t\t\t{getListArea(focused)}\n\t\t\t\t\t</SearchWrapper>\n\t\t\t\t</Nav>\n\t\t\t\t<Addition>\n\t\t\t\t\t<Button className='writting'>\n\t\t\t\t\t\t<span className='iconfont'>&#xe878;</span>\n\t\t\t\t\t\t<span>写文章</span>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button className='reg'>注册</Button>\n\t\t\t\t</Addition>\n\t\t</HeaderWrapper>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfocused: state.get('header').get('focused'),\n\t\tlist: state.get('header').get('list'),\n\t\tpage: state.get('header').get('page'),\n\t\ttotalPage: state.get('header').get('totalPage'),\n\t\tmouseIn: state.get('header').get('mouseIn')\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\thandleInputFocus() {\n\t\t\tdispatch(actionCreators.getList())\n\t\t\tdispatch(actionCreators.inputFocus());\n\t\t},\n\t\thandleInputBlur() {\n\t\t\tdispatch(actionCreators.inputBlur());\n\t\t},\n\t\thandleMouseEnter() {\n\t\t\tdispatch(actionCreators.mouseEnter());\n\t\t},\n\t\thandleMouseLeave() {\n\t\t\tdispatch(actionCreators.mouseLeave());\n\t\t},\n\t\thandlePageChange(page, totalPage) {\n\t\t\tif(page < totalPage) {\n\t\t\t\tdispatch(actionCreators.pageChange(page + 1));\n\t\t\t}else {\n\t\t\t\tdispatch(actionCreators.pageChange(1));\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);"]},"metadata":{},"sourceType":"module"}